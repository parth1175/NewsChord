{% extends "base.html" %}
{% include 'message.html' %}
{% load static %}

{% block content %}

<div class="jumbotron text-center" style="height: 330px">
  <div class="container" style="margin-top: -2%;">
    <a href="/" class="lang-logo">
      <img src="{% static 'Newschord_logo_violet.jpg'%}">
    </a>
    <h1 style="margin-bottom: -16px; margin-top: -16px; font-family:'Trebuchet MS', 'Lucida Sans Unicode', 'Lucida Grande', 'Lucida Sans', Arial, sans-serif;">Newschord</h1>
    <p style="font-family:'Trebuchet MS', 'Lucida Sans Unicode', 'Lucida Grande', 'Lucida Sans', Arial, sans-serif;">Tune into your news</p>
    </div>
</div>


<div class="container">
    {% if form %}
    <div class="col text-center">
        <form action="{% url 'index' %}" method="POST" value = "{{query}}">
            {% csrf_token %}
            <div class="row">
              <p style="font-size: 28px; margin-bottom: 16px;">Enter your request below</p>
                <div class="form-group col text-center" style="initial-value: rave;"> 
                  {{ form.query }}
                </div>
            </div>
            <div class="row" style="padding-bottom:20px;">
              Leaning: {{ DropdownMenu.bias }}
            </div>
            <div class="row">
                <div class="col-5">
                    <div class="btn-group float-right" role="group" aria-label="Basic example">
                        <!-- <button type="button" class="btn btn-default" data-dismiss="modal">Close</button> -->
                        <button type="submit" formmethod = "POST" class="btn btn-primary" style="font-size: 22px; background-color:#32195B; border-color: #F8C100; margin-bottom: 16px;" data-toggle="modal" data-target="#exampleModal">
                          Create deck
                        </button>
                    </div>
                </div>
            </div>
        </form>
        <!-- <div class="col-sm">
          One of three columns
        </div> -->
    {% endif %}


{% for snippet in articleCompounds %}
<div class="card" style="box-shadow: 0 4px 8px 0 {{snippet.color}}">
  <div class="row">
      <div class="col-md-2" style="width: 20%;">
        <div class="container" style="text-align: left;">
          <img src="{% static snippet.image_ind %}" alt="mit" style="width:15%">
          <h4 style="width:15%"><b>{{snippet.name}}</b></h4>
          <p style="width:15%">Leaning: {{snippet.leaning}}</p>
          <p style="width:15%">Reliability: {{snippet.reliability}}</p>
          <a href="{% url 'source' snippet.name %}" style = "font-size:1.2em" class="card-link">More articles</a>
        </div>
      </div>
      <div class="col-md-10" style="width: 80%; padding-inline: 10px;">
        <h2 style="text-align: center">{{snippet.article.title}}</h2>
        <h3>{{snippet.summary}}</h3>
          <div class="item-detail">
              <a href="{{snippet.link}}" style = "font-size:1.5em">More articles</a>
          </div>
      </div>
  </div>
</div>
{% endfor %}

<div class="table">
<script type="text/javascript" src="{% static 'main.js'%}"></script>
</div>

<!-- Button trigger modal
<button type="button" class="btn btn-primary" data-toggle="modal" data-target="#exampleModal">
  Launch demo modal
</button> -->

<!-- Modal -->
<div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">Search is launched</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        Your search through different media is launched. Please, do not refresh the page, you will get articles' list in <b>10-20 seconds</b>. Thank you and have a concise reading!
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Alright</button>
        <!-- <button type="button" class="btn btn-primary">Save changes</button> -->
      </div>
    </div>
  </div>
</div>

<div style = "padding-top: 10px; margin-top: 10px; position:relative" class="alert alert-success text-center" role="alert">
   Thank you for using our service! Please, leave your feedback on <strong>sfast@yandex36.ru</strong> / <strong>parthp@gmail.com</strong>
</div>
{% endblock %}

